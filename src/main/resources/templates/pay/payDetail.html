<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>newmeet</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
	crossorigin="anonymous"></script>
	
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js" integrity="sha512-T/tUfKSV1bihCnd+MxKD0Hm1uBBroVYBOYSk1knyvQ9VyZJpc/ALb4P0r6ubwVPSGB2GvjeoMAJJImBG12TiaQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" integrity="sha512-mSYUmp1HYZDFaVKK//63EcZq4iFWFjxSL+Z3T/aCt4IO9Cejm03q3NKKYN6pFQzY0SBOr8h+eCIAZHPXcpZaNw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.ko.min.js" integrity="sha512-L4qpL1ZotXZLLe8Oo0ZyHrj/SweV7CieswUODAAPN/tnqN3PA1P+4qPu5vIryNor6HQ5o22NujIcAZIfyVXwbQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

<script type="text/javascript">
$(function(){
	
	$(".payment_card").hide();
	$(".payment_account").hide();
	
	
});


function creditcard(){
	$(".payment_card").show();
	$(".payment_account").hide();
	
	
}

function creditcard1(){
	console.log($("#card1 option:selected").val());
	$("#pay").attr("value",$("#card1 option:selected").val());
}

function creditcard2(){
	console.log($("#card2 option:selected").val());
	$("#pay2").attr("value",$("#card2 option:selected").val());
}

function payaccount(){
	$(".payment_account").show();
	$("#pay").attr("value","계좌이체");
		$(".payment_card").hide();
		
	
}

function checkuppayment() {
	
	

	var pay = document.getElementById('pay').value;
	var pay2 = document.getElementById('pay2').value;
	
	console.log(pay);
	console.log(pay2);
	
	if(pay==""){
		alert('결제수단을 선택해주세요.');
		return ;
	}else if(pay=="카드 선택"){
		alert('결제수단을 선택해주세요.');
		return ;
	}else if(pay=="우리카드"&&pay2==""){
		alert('할부기간을 선택해주세요.');		
		return ;	
	}else if(pay=="하나카드"&&pay2==""){
		alert('할부기간을 선택해주세요.');		
		return ;	
	}else if(pay=="삼성카드"&&pay2==""){
		alert('할부기간을 선택해주세요.');		
		return ;	
	}else if(pay=="수협카드"&&pay2==""){
		alert('할부기간을 선택해주세요.');		
		return ;	
	}else if(pay=="우리카드"&&pay2=="할부선택"){
		alert('할부기간을 선택해주세요.');		
		return ;	
	}else if(pay=="하나카드"&&pay2=="할부선택"){
		alert('할부기간을 선택해주세요.');		
		return ;	
	}else if(pay=="삼성카드"&&pay2=="할부선택"){
		alert('할부기간을 선택해주세요.');		
		return ;	
	}else if(pay=="수협카드"&&pay2=="할부선택"){
		alert('할부기간을 선택해주세요.');		
		return ;	
	}else{	
	
		var frm = document.frm;

		document.frm.action="payForm.html";
		document.frm.method="get";
		document.frm.submit();
	}
}
</script>
<style>
 label {color: #551A8B; 
 		font-weight: bold;}	
 
 .form-control {width: 50%}
 
</style>
</head>
<!-- header -->
<th:block layout:fragment="header" th:include="@{/main/header}"></th:block>
<body>



	<div class="container">
		<form action="/pay/order" method="get" onsubmit="return createPay()">


			<div class="mb-3">
			<div th:each="dto:${list}">
				
				<label for="title" class="col-form-label">상품명</label><br> 
				<span class="form-control" th:text="${dto.title}"></span><br>
				
			<div class="mb-3">
				<label for="title" class="col-form-label">날짜</label><br>
				
			</div>
			<div class="mb-3">
				<label for="price" class="col-form-label">가격</label>
				<span class="form-control" th:text="${dto.price}"></span><br>
				<button id="showBtn" type="button" class="btn btn-light">[신규가입]3000원
					할인 적용!</button>

			</div>
			<hr>

			<div>
				<h5>총 결제금액</h5>
			</div>

</div>
			</div>

			<div class="mb-3">
				<!-- <label for="pay_method" class="col-form-label">결제수단</label> -->
	<!--1단-->
				<div class="order_fix">
					<div class="payment_sec">
						<div class="right_sub_sec">
							<label for="pay_method">결제수단</label>

						</div>
						<div class="payment_sub_sec2">
							<table class="table">

								<tbody>
									<tr> 

										<td><button type="button"
												class="btn btn-light" style="width:100px;" onclick="creditcard()">신용카드
												</button></td>
										<td><button type="button"
												class="btn btn-light"   style="width:160px;" onclick="payaccount()">실시간계좌이체</button></td>

										<td><button type="button"
												class="btn btn-light"  style="width:167.25px;" disabled>카카오페이</button></td>
										<td><button type="button"
												class="btn btn-light"  style="width:167.25px;" disabled>
												네이버페이</button></td>
									</tr>
									
									<tr>

										
					
										<td></td>
										<td><input type="hidden" name="pay" id="pay" /></td>
										<td><input type="hidden" name="pay2" id="pay2" /></td>
									</tr>

								</tbody>
							</table>


						</div>
						<div class="payment_card" id="payment_card">
							<table class="table">

								<tbody>
									<tr>


										<td>카드종류</td>
										<td>할부종류</td>
									</tr>
									<tr>

										<td><select class="form-select"
											aria-label="Default select example" id="card1" onchange="creditcard1()">
												<option selected>카드 선택</option>
												<option value="우리카드">우리카드</option>
												<option value="하나카드">하나카드</option>
												<option value="삼성카드">삼성카드</option>
												<option value="수협카드">수협카드</option>
										</select></td>

										<td><select class="form-select"
											aria-label="Default select example" id="card2" onchange="creditcard2()">
												<option selected>할부선택</option>
												<option value="일시불">일시불</option>
												<option value="2개월">2개월</option>
												<option value="3개월">3개월</option>
												<option value="4개월">4개월</option>
										</select></td>
									</tr>

								</tbody>
							</table>
							<div class="alert alert-secondary" role="alert">
								<a href="#" class="alert-link">신용카드 결제 이용안내</a>.
								<p></p>
								<p>신용카드 할부는 50,000원 이상만 가능합니다.</p>

							</div>
						</div>
						<div class="payment_account" id="payment_account">

							<div class="alert light" role="alert">
								<a href="#" class="alert-link">계좌이체 이용 안내</a>.
								<p></p>
								<p></p>
								<p></p>

							</div>



						</div>
						<div class="payment_move">
							<input type="button" value="결제하기"
								class="btn_payment_move" onclick="checkuppayment()">
						</div>
					</div>
				</div>

			</div>
			<input type="submit" class="btn btn-info" value="결제완료" onclick="checkuppayment()"/>
		</form>
	</div>
	<!-- footer -->
	<th:block layout:fragment="footer" th:include="@{/main/footer}"></th:block>
</body>
</html>